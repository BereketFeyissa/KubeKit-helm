# KubeKit Helm Charts

KubeKit is a collection of Helm charts (single chart in this repo) that provide a generic, application-agnostic scaffold for deploying custom or in-house applications to Kubernetes.

This repository publishes packaged charts through GitHub Releases (see the GitHub Actions workflow `.github/workflows/chart_release.yml`). The `KubeKit` chart is intentionally generic so you can adapt the templates and `values.yaml` to your own workloads.

## Repository layout

- `KubeKit/` — the Helm chart directory containing `Chart.yaml`, `values.yaml`, templates and chart metadata.
  - `Chart.yaml` — chart metadata (name, version, appVersion, description).
  - `values.yaml` — default configuration values for the chart.
  - `templates/` — Kubernetes manifests rendered by Helm (Deployment, Service, Ingress, ConfigMap, HPA, ServiceAccount, NOTES and tests).
- `.github/workflows/chart_release.yml` — releases packaged charts to GitHub Releases using chart-releaser-action.

## Installing the chart

The repository publishes packaged charts and an index via GitHub Pages. The recommended way to install is to add the Helm repository and install the chart by name:

```bash
# Add the Helm repo (published via GitHub Pages)
helm repo add KubeKit https://bereketfeyissa.github.io/KubeKit-helm/
helm repo update

# Install the chart from the repo (replace --version or omit to use the latest)
helm install my-release KubeKit/KubeKit --version 1.1.0 -f values-production.yaml
```

Notes:
- The `helm repo add` URL points to the GitHub Pages index generated by the chart releaser. If you prefer a specific release asset you can still install the `.tgz` from a GitHub Release URL directly.
- To install a specific packaged asset manually (not using `helm repo`), use the release asset URL, e.g. `helm install my-release https://github.com/BereketFeyissa/KubeKit-helm/releases/download/<tag>/KubeKit-1.1.0.tgz`.

Install from the local chart directory (useful for development):

```bash
helm install my-release ./KubeKit --values ./KubeKit/values.yaml
```

## Configuration

The chart is configured via `KubeKit/values.yaml`. Important values (excerpt):

- `replicaCount` — default number of replicas for the Deployment.
- `image.repository`, `image.tag`, `image.pullPolicy` — container image settings.
- `services.type` and `services.service[]` — service type and ports/definitions.
- `ingress.enabled`, `ingress.hosts`, `ingress.tls` — ingress configuration.
- `configmap.enabled` and `configmap.configs` — provide config maps for your pods.
- `autoscaling.*` — options to enable HorizontalPodAutoscaler.
- `livenessProbe`, `readinessProbe` — probes configuration.

You can override single values at install time:

```bash
helm install my-release ./KubeKit --set image.tag=1.2.3 --set replicaCount=3
```

Or use a dedicated values file for environment-specific configuration:

```bash
helm install my-release ./KubeKit -f values-production.yaml
```

## Components

When enabled or configured, the chart will render and install the following Kubernetes resources:

- Deployment
- Service
- Ingress (optional)
- ConfigMap (optional)
- ServiceAccount (optional)
- HorizontalPodAutoscaler (optional)
- Tests (Helm test hook under `templates/tests/test-connection.yaml`)

## Quick examples

Expose the app using a ClusterIP (default in `values.yaml`):

```bash
helm install demo ./KubeKit
kubectl get all -l app.kubernetes.io/instance=demo
```

Enable ingress (example values snippet):

```yaml
ingress:
  enabled: true
  hosts:
    - host: example.yourdomain.com
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []
```

Enable autoscaling (example values snippet):

```yaml
autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70
```

## Tests

A simple Helm test is included at `KubeKit/templates/tests/test-connection.yaml`. Run it with:

```bash
helm test <release-name>
```

## Continuous delivery / Releases

This repository includes a GitHub Actions workflow (`.github/workflows/chart_release.yml`) that uses `helm/chart-releaser-action` to package charts and publish them to GitHub Releases on pushes to `main`.

If you rely on Releases, install the specific release asset URL as shown in the "Installing the chart" section.

## Contributing

Contributions, bug reports and improvements are welcome. Suggested steps:

1. Open an issue to discuss the change.
2. Create a branch and a concise PR with tests or examples where appropriate.
3. The release workflow will publish new chart packages automatically when changes are merged to `main`.

## License

Include your license here (LICENSE file) or add one if this repo doesn't have it.

---

If you'd like, I can:
- Add a short `values-production.yaml` example file.
- Add a `MAINTAINERS.md` or `OWNERS` file with contact info.
- Run `helm lint` locally in this workspace and add lint results to the README.
